{{!
    This file is part of The Course Module Navigation Block

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block-course_modulenavigation/coursenave

    Block template for navigation

    The purpose of this template is render a navigation block in course contexts. This template renders all the visible sections in a course.

    Classes required for JS:
    * none

    Context variables required for this template:
    * sections Array of course sections containing arrays of modules
    * modudules Array of course modules
}}
<div class="section-group" id="accordion" role="tablist" aria-multiselectable="true">
  {{#sections}}
  <div class="section section-default">
    <div class="module-navigation-section-heading" role="tab" id="heading{{number}}">
      <div class="section-title">
        <ul class="allpagination">
            <li class="allsectionnames">
                {{#collapse}}
                  <a href="{{{url}}}">
                {{/collapse}}
                {{^collapse}}
                  {{#onlytitles}}
                    <a href="{{{url}}}">
                  {{/onlytitles}}
                  {{^onlytitles}}
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{number}}" aria-expanded="true" aria-controls="collapse{{number}}">
                  {{/onlytitles}}
                {{/collapse}}
                {{title}}
                </a>
            </li>
            {{#collapse}}
            <li class="arrowaccordion">
                {{#hasmodules}}
                  <a class="expand-arrow" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{number}}" aria-expanded="true" aria-controls="collapse{{number}}">
                  </a>
                {{/hasmodules}}
            </li>
            {{/collapse}}
        </ul>
      </div>
    </div>
    <div id="collapse{{number}}" class="section-collapse collapse {{#selected}}in{{/selected}}" role="tabsection" aria-labelledby="heading{{number}}">
      <div class="section-body">
       <ul class="activities">
        {{#modules}}
          {{^onlytitles}}
            <li>
              <a href="{{{url}}}" class="{{active}} {{#label}}modulenavigationlabel{{/label}} {{#checkboxleft}}checkboxleft{{/checkboxleft}} {{#checkboxright}}checkboxright{{/checkboxright}}">
                {{#completionon}}
                    {{#checkboxleft}}
                    <div class="completionbox">
                        {{#circlechecks}}
                        <div class="completioncheck checkicon {{completeclass}}">
                        </div>
                        {{/circlechecks}}
                        {{#checkchecks}}
                        <i class="fa fa-check checkicon {{completeclass}}"></i>
                        {{/checkchecks}}
                    </div>
                    {{/checkboxleft}}
                {{/completionon}}
                <div class="activityname">
                    {{{name}}}
                </div>
                {{#completionon}}
                    {{#checkboxright}}
                    <div class="completionbox">
                        {{#circlechecks}}
                        <div class="completioncheck {{completeclass}}">
                        </div>
                        {{/circlechecks}}
                        {{#checkchecks}}
                        <i class="fa fa-check checkicon {{completeclass}}"></i>
                        {{/checkchecks}}
                    </div>
                    {{/checkboxright}}
                {{/completionon}}
              </a>
            </li>
          {{/onlytitles}}
        {{/modules}}
        </ul>
      </div>
    </div>
  </div>
  {{/sections}}
</div>
